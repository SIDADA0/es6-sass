<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <ul id="nav">
        <li>001</li>
        <li>002</li>
        <li>003</li>
        <li>004</li>
    </ul>

    <script>
    
    var a = 5;
    function foo(){
        a = 6;
        console.log('1==' + a);
    } 
    foo();
    console.log('2==' + a);
    // <!-- 6 6 -->
    var a = 5;
    function foo(){
        var a = 6;
        console.log('1==' + a);
    } 
    foo();
    console.log('2==' + a);
    // <!-- 6 5 -->


    console.log(a);  // var 变量提升 undefined
    var a = 5;


    for(var i=0; i<5;i++){
        console.log(i); 
    }
    console.log(i);  //var 没有块级作用域

    
    if(false){
        var a = 5;
    }
    console.log(a); //undefined

    function foo() {
        let a = 5
        console.log(a);
    }


    var aLi = document.querySelectorAll('#nav li');
    for(var i=0; i<aLi.length; i++){
        aLi[i].index = i; 
        aLi[i].onclick = function(){
            console.log(this.index);
        };
    }
    //闭包
    var aLi = document.querySelectorAll('#nav li');
    for(var i=0; i<aLi.length; i++){
        (function(idx){
        aLi[idx].onclick = function(){
                    console.log(idx);
        };
    })(i); //一直被引用 保存   let 直接闭包
    }

    function fn1(){
        return function fn2(){
        var a = 5;
        return a;
        }
    }
    console.log(fn1()());


//const 常量
    const obj = {
        name : 'za',
        age : 18
    };
    Object.freeze(obj);//冻结

    const arr = [1,2,3,4];
    arr.push(5);
    console.log(arr);

    var aa = 5;
    console.log(window.aa);//污染全局变量
    let aa = 5;
    console.log(window.aa);//不污染全局变量

    console.log('1==' + a);
    var a = 5;
    function a(){
        console.log('2==' + a);
    }
    a();
    console.log('3==' + a);

    // 1==function
    </script>
</body>
</html>